<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Pixel Barbershop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .calendar-day:hover {
            background-color: #f3f4f6;
        }
        .calendar-day.selected {
            background-color: #0c7565;
            color: white;
        }
        .calendar-day.disabled {
            color: #d1d5db;
            cursor: not-allowed;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        .theme-primary {
            background-color: #0c7565;
        }
        .theme-primary-hover:hover {
            background-color: #0a5d52;
        }
        .theme-focus:focus {
            border-color: #0c7565;
            box-shadow: 0 0 0 3px rgba(12, 117, 101, 0.1);
        }
        .theme-bg {
            background: linear-gradient(135deg, #0f8573 0%, #0c7565 100%);
        }
    </style>
</head>
<body class="min-h-screen theme-bg p-4">
    <div class="max-w-2xl mx-auto mt-4">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-200">
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="w-20 h-20 theme-center justify-center mx-auto mb-4">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 315.78 283.21">
                      <defs>
                        <style>
                          .cls-1 {
                            fill: #0c7565;
                          }
                        </style>
                      </defs>
                      <path class="cls-1" d="M315.78,101.73v.82c0,68.24-52.5,104.19-124.45,104.19h-39.7v76.47h-76.47v-99.32h-35.13v-40h35.13v-76.47h76.47v76.47h38.06c28.54,0,45.87-14.87,45.87-37.63v-.82c0-24.79-17.33-38.02-46.3-38.02h-37.63V0h43.84c73.2,0,120.31,37.63,120.31,101.73Z"/>
                      <rect class="cls-1" x="31.53" y=".79" width="54.96" height="54.96"/>
                      <rect class="cls-1" y="183.9" width="40.01" height="40.01"/>
                      <rect class="cls-1" x=".4" y="113.78" width="29.37" height="29.37"/>
                    </svg>
                </div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Pixel Barbershop</h1>
                <p class="text-gray-600">Booking Online</p>
            </div>

            <!-- Form -->
            <form name="booking" id="bookingForm" class="space-y-6" netlify>
                <!-- Nama -->
                <div>
                    <label for="nama" class="block text-sm font-medium text-gray-700 mb-2">
                        Nama <span class="text-red-500">*</span>
                        <span class="text-xs text-gray-500">(Atas nama siapa)</span>
                    </label>
                    <input 
                        type="text" 
                        id="nama" 
                        name="nama" 
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                        placeholder="Masukkan nama lengkap"
                    >
                </div>

                <!-- WhatsApp -->
                <div>
                    <label for="whatsapp" class="block text-sm font-medium text-gray-700 mb-2">
                        WhatsApp <span class="text-red-500">*</span>
                    </label>
                    <div class="flex">
                        <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">
                            +62
                        </span>
                        <input 
                            type="tel" 
                            id="whatsapp" 
                            name="whatsapp" 
                            required
                            class="flex-1 px-4 py-3 border border-gray-300 rounded-r-lg theme-focus transition-colors duration-200 outline-none"
                            placeholder="8123456789"
                            pattern="[0-9]+"
                        >
                    </div>
                </div>

                <!-- Alamat -->
                <div>
                    <label for="alamat" class="block text-sm font-medium text-gray-700 mb-2">
                        Alamat
                        <span class="text-xs text-gray-500">(alamat rumah)</span>
                    </label>
                    <textarea 
                        id="alamat" 
                        name="alamat" 
                        rows="2"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none resize-none"
                        placeholder="Masukkan alamat rumah (opsional)"
                    ></textarea>
                </div>

                <!-- Cabang -->
                <div>
                    <label for="cabang" class="block text-sm font-medium text-gray-700 mb-2">
                        Cabang Mana <span class="text-red-500">*</span>
                    </label>
                    <select 
                        id="cabang" 
                        name="cabang"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                    >
                        <option value="">Pilih Cabang</option>
                        <optgroup label="Cabang Sukabumi">
                            <option value="Ciaul">Ciaul</option>
                            <option value="Sudirman">Sudirman</option>
                            <option value="Cisaat">Cisaat</option>
                            <option value="Cibadak">Cibadak</option>
                            <option value="Cicurug">Cicurug</option>
                            <option value="Palabuhanratu">Palabuhanratu</option>
                            <option value="Cipanengah">Cipanengah</option>
                        </optgroup>
                        <optgroup label="Cabang Cianjur">
                            <option value="Bypass">Bypass</option>
                            <option value="Joglo">Joglo</option>
                            <option value="Cipanas">Cipanas</option>
                            <option value="Ciranjang">Ciranjang</option>
                        </optgroup>
                        <optgroup label="Cabang Malang">
                            <option value="Galunggung">Galunggung</option>
                            <option value="Dinoyo">Dinoyo</option>
                        </optgroup>
                        <optgroup label="Cabang Bogor">
                            <option value="Ciomas">Ciomas</option>
                            <option value="Cimanggu">Cimanggu</option>
                            <option value="Bojonggede">Bojonggede</option>
                        </optgroup>
                    </select>
                </div>

                <!-- Pilih Hari -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Pilih Hari Apa <span class="text-red-500">*</span>
                    </label>
                    <button 
                        type="button" 
                        id="datePickerBtn"
                        name="date"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none text-left bg-white hover:bg-gray-50"
                    >
                        <span id="selectedDateText" class="text-gray-500">Klik untuk pilih tanggal</span>
                    </button>
                    <input type="hidden" id="dateInput" name="date" required>
                </div>

                <!-- Pilih Jam -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Pilih Jam Berapa <span class="text-red-500">*</span>
                        <span class="text-xs text-gray-500">(Last order booking 20:45)</span>
                    </label>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="jam" class="block text-xs text-gray-500 mb-1">Jam</label>
                            <select 
                                id="jam" 
                                name="jam"
                                required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                            >
                                <option value="">Pilih Jam</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                        <div>
                            <label for="menit" class="block text-xs text-gray-500 mb-1">Menit</label>
                            <select 
                                id="menit" 
                                name="menit"
                                required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                            >
                                <option value="">Pilih Menit</option>
                                <option value="00">00</option>
                                <option value="15">15</option>
                                <option value="30">30</option>
                                <option value="45">45</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Treatment -->
                <div>
                    <label for="treatment" class="block text-sm font-medium text-gray-700 mb-2">
                        Treatment <span class="text-red-500">*</span>
                    </label>
                    <select
                        id="treatment" 
                        name="treatment"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                    >
                        <option value="">Pilih Treatment</option>
                        <optgroup label="Haircut">
                            <option value="Cukur Dewasa">Cukur Dewasa</option>
                            <option value="Cukur Dewasa & Keramas">Cukur Dewasa & Keramas</option>
                            <option value="Cukur Botak Slick">Cukur Botak Slick</option>
                            <option value="Cukur Anak">Cukur Anak</option>
                            <option value="Cukur Anak + Keramas">Cukur Anak + Keramas</option>
                        </optgroup>
                        <optgroup label="Package">
                            <option value="Pixel Grooming">Pixel Grooming</option>
                            <option value="Pixel Looks Young">Pixel Looks Young</option>
                            <option value="Pixel Creambath">Pixel Creambath</option>
                        </optgroup>
                        <optgroup label="Treatment">
                            <option value="Creambath">Creambath</option>
                            <option value="Keramas & Style">Keramas & Style</option>
                            <option value="Cukur Jenggot">Cukur Jenggot</option>
                        </optgroup>
                        <optgroup label="Fashion">
                            <option value="Perming">Perming</option>
                            <option value="Smoothing">Smoothing</option>
                            <option value="Down Perm">Down Perm</option>
                            <option value="Root Lift">Root Lift</option>
                            <option value="Hair Design">Hair Design</option>
                            <option value="Semir hitam">Semir hitam</option>
                            <option value="Semir Fashion">Semir Fashion</option>
                            <option value="Semir Ulang">Semir Ulang</option>
                            <option value="Highlighting">Highlighting</option>
                        </optgroup>
                    </select>
                    </select>
                </div>

                <!-- Jumlah Orang -->
                <div>
                    <label for="jumlahOrang" class="block text-sm font-medium text-gray-700 mb-2">
                        Jumlah Orang
                    </label>
                    <select 
                        id="jumlahOrang" 
                        name="jumlahOrang"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                    >
                        <option value="1">1 Orang</option>
                        <option value="2">2 Orang</option>
                        <option value="3">3 Orang</option>
                        <option value="4">4 Orang</option>
                        <option value="5">5 Orang</option>
                    </select>
                </div>

                <!-- Nama Capster -->
                <div>
                    <label for="capster" class="block text-sm font-medium text-gray-700 mb-2">
                        Nama Capster
                    </label>
                    <input 
                        type="text" 
                        id="capster" 
                        name="capster"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg theme-focus transition-colors duration-200 outline-none"
                        placeholder="Masukkan nama capster (opsional)"
                    >
                </div>

                <!-- Submit Button -->
                <button 
                    type="submit" 
                    class="w-full theme-primary theme-primary-hover text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                >
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                    </svg>
                    <span>Kirim Booking ke WhatsApp</span>
                </button>
            </form>

            <!-- Info -->
            <div class="mt-6 p-4 bg-green-50 rounded-lg border border-green-200">
                <p class="text-sm text-green-700 text-center font-bold">
                    <svg class="w-4 h-4 inline mr-1 text-red-500 animate-pulse" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                    </svg>
                    Booking akan dikirim ke WhatsApp Pixel Barbershop untuk konfirmasi kestersediaan jam-nya
                </p>
            </div>

            <!-- Footer -->
            <div class="mt-8 pt-6 border-t border-gray-200">
                <p class="text-center text-sm text-gray-500">
                    Â© Pixel Barbershop 2025 - All Rights Reserved.
                </p>
            </div>
        </div>
    </div>

    <!-- Date Picker Modal -->
    <div id="dateModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Pilih Tanggal</h3>
                <button type="button" id="closeDateModal" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="flex justify-between items-center mb-4">
                <button type="button" id="prevMonth" class="p-2 hover:bg-gray-100 rounded-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
                <h4 id="currentMonth" class="text-lg font-semibold"></h4>
                <button type="button" id="nextMonth" class="p-2 hover:bg-gray-100 rounded-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
            </div>
            
            <div class="calendar-grid mb-2">
                <div class="text-center text-xs font-medium text-gray-500 py-2">Min</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Sen</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Sel</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Rab</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Kam</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Jum</div>
                <div class="text-center text-xs font-medium text-gray-500 py-2">Sab</div>
            </div>
            
            <div id="calendarDays" class="calendar-grid"></div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let selectedDate = null;

        const monthNames = [
            'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
            'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
        ];

        // Modal controls
        const dateModal = document.getElementById('dateModal');
        const datePickerBtn = document.getElementById('datePickerBtn');

        datePickerBtn.addEventListener('click', () => {
            dateModal.classList.add('show');
            renderCalendar();
        });

        document.getElementById('closeDateModal').addEventListener('click', () => {
            dateModal.classList.remove('show');
        });

        // Close modal when clicking outside
        dateModal.addEventListener('click', (e) => {
            if (e.target === dateModal) {
                dateModal.classList.remove('show');
            }
        });

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';
            
            // Empty cells for days before the first day of the month
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                calendarDays.appendChild(emptyDay);
            }
            
            // Days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day text-sm';
                dayElement.textContent = day;
                
                const dayDate = new Date(year, month, day);
                
                // Disable past dates
                if (dayDate < today.setHours(0, 0, 0, 0)) {
                    dayElement.classList.add('disabled');
                } else {
                    dayElement.addEventListener('click', () => selectDate(year, month, day));
                }
                
                calendarDays.appendChild(dayElement);
            }
        }

        function selectDate(year, month, day) {
            // Remove previous selection
            document.querySelectorAll('.calendar-day.selected').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Add selection to clicked day
            event.target.classList.add('selected');
            
            selectedDate = new Date(year, month, day);
            
            // Format date for display
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const formattedDate = selectedDate.toLocaleDateString('id-ID', options);
            document.getElementById('selectedDateText').textContent = formattedDate;
            document.getElementById('selectedDateText').classList.remove('text-gray-500');
            document.getElementById('selectedDateText').classList.add('text-gray-900');
            
             // **Update value hidden input**
                const input = document.getElementById('dateInput');
                const yearVal = selectedDate.getFullYear();
                const monthVal = String(selectedDate.getMonth() + 1).padStart(2, '0');
                const dayVal = String(selectedDate.getDate()).padStart(2, '0');
                input.value = `${yearVal}-${monthVal}-${dayVal}`;
    
            // Close modal
            dateModal.classList.remove('show');
        }

        // Month navigation
        document.getElementById('prevMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        document.getElementById('nextMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        // WhatsApp number formatting
        document.getElementById('whatsapp').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^\d]/g, '');
            e.target.value = value;
        });

        // Branch WhatsApp numbers
        const branchPhones = {
            'Ciaul': '6285692515300',
            'Sudirman': '62895375915757',
            'Cisaat': '6285817149664',
            'Cibadak': '6285810800807',
            'Cicurug': '6285810789700',
            'Palabuhanratu': '628990074040',
            'Bypass': '6285810807300',
            'Joglo': '628990028800',
            'Cipanas': '6289628119555',
            'Ciranjang': '6289508942000',
            'Galunggung': '6285124443260',
            'Dinoyo': '6285124443261',
            'Ciomas': '6285122575740',
            'Cimanggu': '6285122575741',
            'Bojonggede': '6285122575742',
            'Cipanengah': '6285122575661'
        };
        
        //submit Form
        const handleSubmit = event => {
            event.preventDefault();
          
            const myForm = event.target;
            const formData = new FormData(myForm);
          
            fetch("/", {
              method: "POST",
              headers: { "Content-Type": "application/x-www-form-urlencoded" },
              body: new URLSearchParams(formData).toString()
            })
              .then(() => console.log("Form successfully submitted"))
              .catch(error => alert(error));
          };
          
          document.querySelector("form").addEventListener("submit", handleSubmit);

        // Form submission
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nama = document.getElementById('nama').value.trim();
            const whatsapp = document.getElementById('whatsapp').value.trim();
            const alamat = document.getElementById('alamat').value.trim();
            const cabang = document.getElementById('cabang').value;
            const jam = document.getElementById('jam').value;
            const menit = document.getElementById('menit').value;
            const treatment = document.getElementById('treatment').value.trim();
            const jumlahOrang = document.getElementById('jumlahOrang').value;
            const capster = document.getElementById('capster').value.trim();
            
            // Validation
            if (!nama || !whatsapp || !cabang || !treatment) {
                showNotification('Mohon lengkapi field yang wajib diisi!', 'error');
                return;
            }
            
            if (!selectedDate || !jam || !menit) {
                showNotification('Mohon pilih tanggal, jam, dan menit booking!', 'error');
                return;
            }
            
            // Format date
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const formattedDate = selectedDate.toLocaleDateString('id-ID', options);
            const waktu = `${jam}:${menit}`;
            
            // Get branch phone number
            const branchPhone = branchPhones[cabang];
            
            // Check if branch has phone number
            if (!branchPhone) {
                showNotification('Nomor WhatsApp untuk cabang ini belum tersedia. Silakan hubungi cabang langsung.', 'error');
                return;
            }
            
            // Create WhatsApp message
            let message = `*BOOKING PIXEL BARBERSHOP*\n\n`;
            message += `- *Nama:* ${nama}\n`;
            message += `- *WhatsApp:* +62${whatsapp}\n`;
            if (alamat) message += `- *Alamat:* ${alamat}\n`;
            message += `- *Cabang:* ${cabang}\n`;
            message += `- *Tanggal:* ${formattedDate}\n`;
            message += `- *Jam:* ${waktu}\n`;
            if (treatment) message += `- *Treatment:* ${treatment}\n`;
            message += `- *Jumlah Orang:* ${jumlahOrang}\n`;
            if (capster) message += `- *Nama Capster:* ${capster}\n`;
            message += `\nMohon konfirmasi booking ini. Terima kasih!`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/${branchPhone}?text=${encodedMessage}`;
            
            window.open(whatsappURL, '_blank');
            showNotification(`Booking dikirim ke ${cabang}! WhatsApp akan terbuka di tab baru.`, 'success');
            
            // Reset form after 2 seconds
            setTimeout(() => {
                document.getElementById('bookingForm').reset();
                selectedDate = null;
                document.getElementById('selectedDateText').textContent = 'Klik untuk pilih tanggal';
                document.getElementById('selectedDateText').classList.add('text-gray-500');
                document.getElementById('selectedDateText').classList.remove('text-gray-900');
                document.querySelectorAll('.selected').forEach(el => {
                    el.classList.remove('selected');
                });
            }, 2000);
        });

        function showNotification(message, type) {
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = `notification fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300 ${
                type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
            }`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        ${type === 'success' 
                            ? '<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>'
                            : '<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>'
                        }
                    </svg>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(full)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }, 4000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a3b9052556a620',t:'MTc1NDM2OTk0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
